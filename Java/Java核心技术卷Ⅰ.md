# Java核心技术卷Ⅰ

## 第1章 Java程序设计概述

> *`Java`是一个完整的平台，有一个庞大的库，其中包含了很多可重用的代码和一个提供诸如安全性、跨操作系统的可移植性以及自动垃圾收集等服务的执行环境。*

### Java“白皮书”的关键术语

1. 简单性
    1. `Java`语法是`C++`的一个”纯净“版本。
    2. 简单的另一个方面是小。`Java`的目标之一是支持开发能够在小型机器上独立运行的软件。
2. 面向对象
3. 分布式
4. 健壮性
5. 安全性
6. 体系结构中立
    1. 编译器生成一个体系结构中立的目标文件格式（字节码），这是一种编译过的代码，只要有`Java`运行时系统，这些编译后的代码可以在许多处理器上运行。
    2. 解释虚拟机指令肯定会比全速运行机器指令慢很多，然而`JVM`有一个选项，可以将执行最频繁的字节码序列翻译成机器码，这一过程被称为及时编译。
7. 可移植性
8. 解释性
9. 高性能
10. 多线程
11. 动态性
    1. 在`Java`中找出运行时类型信息十分简单

### Java发展历史

| 版本     | 发布时间 | 名称      |
| -------- | -------- | --------- |
| JDK Beta | 1995     | WebRunner |
|JDK 1.0 |1996.1| Oak|
|  JDK 1.1| 1997.2|  |
|J2SE 1.2| 1998.12 |Playground|
|  J2SE 1.3 |2000.5 |Kestrel |
| J2SE 1.4 |2002.2 |Merlin |
| J2SE 5.0 |2004.9| Tiger |
| Java SE 6 |2006.12| Mustang|
|  Java SE 7| 2011.7|Dolphin|
|  Java SE 8 (LTS)| 2014.3 ||
| Java SE 9 |2017.9||
| Java SE 10 (18.3) |2018.3||
|  Java SE 11 (18.9 LTS)| 2018.9 ||
| Java SE 12 (19.3)| 2019.3||
|  Java SE 13 (19.9)| 2019.9||
|  Java SE 14 (20.3)| 2020.3||

## 第2章 Java程序设计环境

### 使用命令行工具

```shell
javac Welcome.java
java Welcome
```

## 第3章 Java的基本程序设计结构

### 注释

* 单行注释 `//`

* 多行注释 `/* */`

    * 不支持嵌套

* 文档注释 `/** */`

    * ```java
        /**
         * This is the first sample program in Core Java Chapter 3
         * @version 1.0
         * @author dk
         */
        public class FirstSample{
          public static void main(String[] args){
            System.out.println("Hello, World")
          }
        }
        ```

### 数据类型

8种基本数据类型

* 4种整型
    * byte   1字节  8位    -2^7 ~ 2^7 - 1
    * short  2字节 16位  -2^15 ~ 2^15 - 1
    * int       4字节 32位  -2^31​ ~ 2^31- 1 （21亿）
    * long    8字节 64位  -2^63 ~ 2^63 - 1 后缀加L
    * 十六进制  0x
    * 八进制      0
    * 二进制      0b
    * Java没有任何无符号类型（unsigned），kotlin有
* 2种浮点类型
    * float      4字节 1位符号位 8位指数位（决定大小） 23位小数位（决定精度）  有效位数6-7位 后缀加F
    * double  8字节 1位符号位 11位指数位 52位小数位 有效位数15位  后缀可以加D，不强制，不加D默认浮点数值类型也是double类型
* 1种字符类型
    * char  2字节  范围从\u0000到\uffff
* 1种布尔类型
    * boolean true false 整型值和布尔值之间不能互转

### 常量

* final修饰 一旦赋值，就不能再更改了
* (public) static final 类常量

### 运算符

* 整数被0除会产生一个异常，而浮点数被0除会得到无穷大或者NaN结果

* floorMod()和%区别

    * ```java
        //如果参数的符号相同
        floorMod(4, 3) == 1;   and (4 % 3) == 1
        ```

    * ```java
        //如果参数的符号不同
        floorMod(+4, -3) == -2;   and (+4 % -3) == +1
        floorMod(-4, +3) == +2;   and (-4 % +3) == -1
        floorMod(-4, -3) == -1;   and (-4 % -3) == -1
        ```

* 数值类型转换

    * 如果一个数是double类型，另一个操作数就会转换成double类型
    * 否则如果一个数是float类型，另一个操作数就会转换成float类型
    * 否则如果一个数是long类型，另一个操作数就会转换成long类型
    * 否则两个数都会将转换成int类型

* 强制类型转换

    * 浮点数类型转换成整数类型，会截断小数部分

        * ```java
            double a = 9.999;
            int b = (int)a;
            
            b = 9
            ```

    * 四舍五入可以使用Math.round()方法

### 字符串

* 当一个字符串一一个非字符串的值进行拼接的时候，后者被转换成字符串

* String.equals()比较两个字符串值是否相等，==比较两个字符串是否在同一个位置上

* jdk5.0 引入StringBuilder类，这个类的前身是StringBuffer，其效率稍有些低，但允许采用多线程的方式之慈宁宫添加或删除字符的操作。如果所有字符串在一个单线程中编辑，则应该使用StringBuilder替代它。这两个类的API是相同的。

* 格式化字符串 printf

    * 转换符

        | 转换符 |         类型         |   举例   |
        | :----: | :------------------: | :------: |
        |   d    |      十进制整数      |   123    |
        |   x    |     十六进制整数     |    9f    |
        |   o    |      八进制整数      |   257    |
        |   e    |      指数浮点数      | 1.59e+01 |
        |   g    |      通用浮点数      |    -     |
        |   a    |    十六进制浮点数    | 0x1.fccd |
        |   s    |        字符串        |  Hello   |
        |   c    |         字符         |    H     |
        |   b    |         布尔         |   True   |
        |   h    |        散列码        |  456416  |
        | tx或Tx |       日期时间       |    -     |
        |   %    |        百分号        |    %     |
        |   n    | 与平台有关的行分隔符 |    -     |
        |   f    |      定点浮点数      |   15.9   |

    * 标志

        |        标志        |                             目的                             |     举例     |
        | :----------------: | :----------------------------------------------------------: | :----------: |
        |         +          |                     打印正数和负数的符号                     |   +333.33    |
        |        空格        |                       在正数之前加空格                       | \|  333.33\| |
        |         0          |                          数字前补0                           |   00333.33   |
        |         -          |                            左对齐                            | \|333.33  \| |
        |         (          |                       将负数括在括号内                       |  （333.33）  |
        |         \.         |                        添加分组分隔符                        |  33,333.33   |
        |  \#（对于f格式）   |                          包含小数点                          |    3,333.    |
        | \#（对于x或0格式） |                        添加前缀0x或0                         |    0xab12    |
        |         $          | 给定被格式化的参数索引，例如%1\$d,%1\$x将以十进制和十六进制打印第一个参数 |    159 9F    |
        |         <          | 格式化前面说明的数值，例如%d%<x以十进制和十六进制打印同一个数值 |    159 9F    |

        可以使用多个标志
        
    * 日期转换符
    
        * * 
    
        | 转换符 | 类型                                                    | 举例                         |
        | ------ | ------------------------------------------------------- | ---------------------------- |
        | c      | 完整的日期和时间                                        | Mon Feb 09 18:05:11 PST 2004 |
        | F      | ISO 8061日期                                            | 2004-02-09                   |
        | D      | 美国格式的日期                                          | 02/09/2004                   |
        | T      | 24小时时间                                              | 18:03:23                     |
        | r      | 12小时时间                                              | 05:03:23 pm                  |
        | R      | 24小时时间没有秒                                        | 18:05                        |
        | Y      | 4位数字的年（前面补0）                                  | 2004                         |
        | y      | 年的后两位数字（前面补0）                               | 04                           |
        | C      | 年的前两位数字（前面补0）                               | 20                           |
        | B      | 月的完整拼写                                            | February                     |
        | b或h   | 月的缩写                                                | Feb                          |
        | m      | 两位数字的月（前面补0）                                 | 02                           |
        | d      | 两位数字的日（前面补0）                                 | 09                           |
        | e      | 两位数字的月（前面不补0）                               | 9                            |
        | A      | 星期几的完整拼写                                        | Monday                       |
        | a      | 星期几的缩写                                            | Mon                          |
        | j      | 三位数的年中的日子（前面补0），在001到366之间           | 069                          |
        | H      | 两位数字的小时（前面补0），在0到23之间                  | 18                           |
        | k      | 两位数字的小时（前面不补0）在0到23之间                  | 8                            |
        | I      | （大写的i）	两位数字的小时（前面补0），在0到12之间   | 06                           |
        | l      | （小写的L）	两位数字的小时（前面不补0），在0到12之间 | 6                            |
        | M      | 两位数字的分钟（前面补0）                               | 05                           |
        | S      | 两位数字的秒（前面补0）                                 | 19                           |
        | L      | 三位数字的毫秒（前面补0）                               | 047                          |
        | N      | 九位数字的毫微秒（前面补0）                             | 047000000                    |
        | P      | 上午或者下午的大写标志                                  | PM                           |
        | p      | 上午或者下午的小写标志                                  | pm                           |
        | z      | 从GMT起，RFC822数字移位                                 | -0800                        |
        | Z      | 时区                                                    | PST                          |
        | s      | 从格林威治时间1970-01-01 00:00:00起的秒数               | 107884319                    |
        | Q      | 从格林威治时间1970-01-01 00:00:01起的毫秒数             | 107884319047                 |



### 控制流程

* break

    * 用于退出循环语句

    * 用于退出嵌套循环

        ```java
        tag:
        for (int i = 0; i < 10; i++) {
          for (int j = 0; j < 10; j++) {
            if (j == 2)
              break tag;
          }
        }
        ```



### 大数值

* BigInteger 整数

    ```java
    BigInteger a = BigInteger.valueOf(100);
    BigInteger b = a.add(BigInteger.valueOf(20));
    BigInteger c = b.multiply(a);
    ```

* BigDecimal 浮点数

### 数组

* 初始化

```java
int[] array = new int[]{100, 100};
int[] array1 = {100, 100};
int[] array2 = new int[0];
System.out.printf("%s %s %s", array.length, array1.length, array2.length);

2 2 0
```

在Java中，允许数组长度为0，但是数组长度为0与null不同

* 数组拷贝

    ```java
    // 引用拷贝
    int[] luckyNumbers = samllPrimes;
    luckyNumbers[2] = 90; //luckyNumbers[2] is also 90
      
    // 值拷贝
    int copiedLuckyNumbers = Arrays.copyOf(luckyNumbers, luckyNumbers.length);
    // 第二个参数是新数组长度，通常用来增加数组的大小，如果是数值型，那么多余的数组被赋值为0，布尔型被赋值为false。相反如果长度小于原来数组的长度，则只会拷贝前面的数据元素
    luckyNumbers = Arrays.copyOf(luckyNumbers, luckyNumbers.legth * 2);
    ```

* 数组排序

    `Arrays.sort(luckyNumbers)` 改变原数组

* 多维数组

    `double[][] blances`

* 不规则数组

## 

